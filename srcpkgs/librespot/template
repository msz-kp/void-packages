# Template file for 'librespot'
pkgname=librespot
version=0.1.6.20210419
revision=1
_githash=7226bfd55ab72fb3d35a35f3bc38582975a8bec1
wrksrc="${pkgname}-${_githash}"
build_style=cargo
configure_args="--no-default-features --features rodio-backend,alsa-backend,rodiojack-backend"
hostmakedepends="pkg-config"
makedepends="alsa-lib-devel jack-devel"
short_desc="librespot is an open source client library for Spotify"
maintainer="msz <msz@msz.katowice.pl>"
license="MIT"
homepage="https://github.com/librespot-org/librespot"
#distfiles="${homepage}/archive/v${version}.tar.gz"
distfiles="https://github.com/librespot-org/librespot/archive/${_githash}.tar.gz"
checksum=b5707ea4392de4103444fefc6901538a8a177e7d682adac188db034e80b652e7

build_options="avahi"

if [ "$build_option_avahi" ]; then
	configure_args+=",with-dns-sd"
	makedepends+=" avahi-compat-libs-devel"
fi
